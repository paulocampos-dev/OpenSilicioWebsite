FROM node:20-alpine

WORKDIR /app

# Install dependencies first (better caching)
COPY package*.json ./
RUN npm install

# Create uploads directory
RUN mkdir -p uploads

# Source code will be mounted as volume
# Don't copy source code here for better hot reloading

EXPOSE 3001

# Use ts-node-dev for hot reloading (already in package.json)
CMD ["npm", "run", "dev"]

